<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- TODO: Restrict font variants to what we are actually using! -->
    <link href='http://fonts.googleapis.com/css?family=Arimo:700italic,700,400italic,400|Cousine:700italic,700,400italic,400' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="css/custom.css">
    <title>Hspec: Behavior-Driven Development for Haskell</title>
  </head>
  <body>
    <div class="container">
      <h1 class="page-heading"><a href="index.html">Hspec: <span class="sub">Behavior-Driven Development for Haskell</span></a></h1>
      <noscript>
        <em>Tip: JavaScript is disabled in your browser.  If you enable JavaScript
        you'll get some non-essential but convenient user interface
        enhancements.</em>
      </noscript>
      <h3>A report of hspec&#39;s behavior</h3>

<pre>
Test.Hspec.Compat

  showType
   - shows fully qualified name of type

Test.Hspec.Core

  pending
   - specifies a pending example
   - accepts an optional message, which is included in the report

  the "describe" function
   - takes a description of what the behavior is for
   - groups behaviors for what's being described

    a nested description
     - has it's own specs

  the "it" function
   - takes a description of a desired behavior
   - takes an example of that behavior
   - can use a Bool, HUnit Test, QuickCheck property, or `pending` as an example
     # PENDING: No reason given

Test.Hspec.Core.Type

  evaluateExample

    for Bool
     - returns Success on True
     - returns Fail on False
     - propagates exceptions

    for Expectation
     - returns Success if all expectations hold
     - returns Fail if an expectation does not hold
     - propagates exceptions

    for Property
     - returns Success if property holds
     - returns Fail if property does not hold
     - shows what falsified it
     - propagates exceptions
     # PENDING: this probaly needs a patch to QuickCheck

Test.Hspec.FailureReport

  writeFailureReport
   - prints a warning on unexpected exceptions

  GHCi
   - keeps environment variables on :reload

Test.Hspec.Formatters

  silent
   - produces no output

  failed_examples
   - summarizes the time it takes to finish

    displays a detailed list of failures
     - prints all requirements that are not met
     - prints the exception type for requirements that fail due to an uncaught exception
     - prints all descriptions when a nested requirement fails
   - summarizes the number of examples and failures
   - shows summary in green if there are no failures
   - shows summary in yellow if there are pending examples
   - shows summary in red if there are failures
   - shows summary in red if there are both failures and pending examples

  progress
   - produces '..F...FF.F' style output

    same as failed_examples
     - summarizes the time it takes to finish

      displays a detailed list of failures
       - prints all requirements that are not met
       - prints the exception type for requirements that fail due to an uncaught exception
       - prints all descriptions when a nested requirement fails
     - summarizes the number of examples and failures
     - shows summary in green if there are no failures
     - shows summary in yellow if there are pending examples
     - shows summary in red if there are failures
     - shows summary in red if there are both failures and pending examples

  specdoc
   - displays a header for each thing being described
   - displays one row for each behavior
   - prints an empty line before each group
   - prints an empty line after each group
   - outputs an empty line at the beginning (even for non-nested specs)
   - displays a row for each successfull, failed, or pending example
   - displays a '#' with an additional message for pending examples
   - outputs failed examples in red, pending in yellow, and successful in green
     # PENDING: No reason given

    same as failed_examples
     - summarizes the time it takes to finish

      displays a detailed list of failures
       - prints all requirements that are not met
       - prints the exception type for requirements that fail due to an uncaught exception
       - prints all descriptions when a nested requirement fails
     - summarizes the number of examples and failures
     - shows summary in green if there are no failures
     - shows summary in yellow if there are pending examples
     - shows summary in red if there are failures
     - shows summary in red if there are both failures and pending examples

Test.Hspec.HUnit

  fromHUnitTest
   - works for a TestCase
   - works for a labeled TestCase
   - works for a TestCase with nested labels
   - works for a flat TestList
   - works for a nested TestList

  HUnit TestCase as an example (deprecated!)
   - is specified with the HUnit `TestCase` data constructor
   - is the assumed example for IO() actions
   - will show the failed assertion text if available (e.g. assertBool)
   - will show the failed assertion expected and actual values if available (e.g. assertEqual)

Test.Hspec.QuickCheck

  prop
   - is a shortcut to use properties as examples

Test.Hspec.Runner

  hspec
   - runs a spec
   - exits with exitFailure if not all examples pass
   - suppresses output to stdout when evaluating examples
   - prints an error message on unrecognized command-line options
   - does not leak command-line flags to examples

    with --verbose
     - does not suppress output to stdout

    with --match
     - only runs examples that match a given pattern
     - can be given multiple times

    with --maximum-generated-tests=n
     - tries QuickCheck properties n times

    with --html
     - produces HTML output
     - marks successful examples with CSS class hspec-success
     - marks pending examples with CSS class hspec-pending
     - marks failed examples with CSS class hspec-failure

  hspec (experimental features)
   - stores a failure report in environment HSPEC_FAILURES

    with --re-run
     - re-runs examples that previously failed FAILED [1]

      when there is no failure report in the environment
       - runs everything
       - prints a warning to stderr

      when parsing of failure report fails
       - runs everything
       - prints a warning to stderr

  hspecWith
   - returns a summary of the test run
   - treats uncaught exceptions as failure
   - uses the specdoc formatter by default
   - can use a custom formatter

Test.Hspec.Util

  quantify
   - returns an amount and a word given an amount and word
   - returns a singular word given the number 1
   - returns a plural word given a number greater than 1
   - returns a plural word given the number 0

  safeEvaluate
   - returns Right on success
   - returns Left on exception
   - re-throws AsyncException

  filterPredicate
   - tries to match a pattern against a path
   - is ambiguous
   - succeeds on a partial match
   - succeeds with a pattern that matches the message give in the failure list

  formatRequirement
   - creates a sentence from a subject and a requirement
   - creates a sentence from a subject and a requirement when the subject consits of multiple words
   - returns the requirement if no subject is given
   - inserts context separated by commas
   - joins components of a subject with a dot
   - properly handles context after a subject that consists of several components

  getEnv
   - returns value of specified environment variable
   - returns Nothing if specified environment variable is not set

1) Test.Hspec.Runner - hspec (experimental features) - with --re-run - re-runs examples that previously failed FAILED
["","<span class=\"hspec-success\">- example 1","</span><span class=\"hspec-failure\">- example 2 FAILED [1]","</span><span class=\"hspec-failure\">- example 3 FAILED [2]","</span><span class=\"hspec-success\">- example 4","</span><span class=\"hspec-failure\">- example 5 FAILED [3]","</span>","<span class=\"hspec-failure\">1) example 2 FAILED","","2) example 3 FAILED","","3) example 5 FAILED","","</span>Finished in 0.0007 seconds, used 0.0000 seconds of CPU time","","<span class=\"hspec-failure\">5 examples, 3 failures</span>"] did not satisfy predicate!

Finished in 0.4598 seconds, used 0.1680 seconds of CPU time

110 examples, 1 failure
</pre>

    </div>

    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="js/jquery.scrollintoview.js"></script>
    <script src="js/custom.js"></script>
  </body>
</html>
